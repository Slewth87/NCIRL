{"ast":null,"code":"var _jsxFileName = \"/Users/rduffy/Code/NCIRL/Advanced Client Side Development/react-vis/src/components/BarVis.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Highcharts from 'highcharts/highcharts';\nimport BarChart from 'highcharts-react-official';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction BarVis() {\n  _s();\n\n  const [earnings, setEarnings] = useState([]);\n  const [sales, setSales] = useState([]);\n  const [salesYear, setSalesYear] = useState([]);\n  const config = {\n    chart: {\n      type: 'column'\n    },\n    title: {\n      text: 'Monthly Average Rainfall'\n    },\n    subtitle: {\n      text: 'Source: WorldClimate.com'\n    },\n    xAxis: {\n      categories: salesYear[0],\n      crosshair: true\n    },\n    yAxis: {\n      min: 0,\n      title: {\n        text: '€'\n      }\n    },\n    tooltip: {\n      headerFormat: '<span style=\"font-size:10px\">{point.key}</span><table>',\n      pointFormat: '<tr><td style=\"color:{series.color};padding:0\">{series.name}: </td>' + '<td style=\"padding:0\"><b>{point.y:.1f} mm</b></td></tr>',\n      footerFormat: '</table>',\n      shared: true,\n      useHTML: true\n    },\n    plotOptions: {\n      column: {\n        pointPadding: 0.2,\n        borderWidth: 0\n      }\n    },\n    series: sales\n  };\n  useEffect(async function () {\n    var dateSet = false;\n    var data = await axios.get(\"http://localhost:8080/sales\");\n    var formattedSales = data.data.map(function (earnings) {\n      return {\n        name: earnings.country,\n        data: earnings.data\n      };\n    });\n    var formattedSalesYear = data.data.map(function (earnings) {\n      return earnings.years;\n    }, []);\n    console.log(formattedSalesYear);\n    setSales(formattedSales);\n    console.log(formattedSalesYear.length);\n\n    for (let i = 1; i < formattedSalesYear.length; i++) {\n      if (formattedSalesYear[i] === formattedSalesYear[i - 1]) {\n        dateSet = true;\n      } else {\n        dateSet = false;\n        formattedSalesYear = [\"error\", \"error\", \"error\", \"error\", \"error\", \"error\"];\n        break;\n      }\n\n      console.log(\"dateSet: \" + dateSet);\n    }\n\n    if (dateSet) {\n      setSalesYear(formattedSalesYear);\n    }\n\n    console.log(salesYear);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(BarChart, {\n      highcharts: Highcharts,\n      options: config\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 9\n  }, this);\n}\n\n_s(BarVis, \"eRkXIHnA7hmstGmifqwJOZLQFz0=\");\n\n_c = BarVis;\nexport default BarVis;\n\nvar _c;\n\n$RefreshReg$(_c, \"BarVis\");","map":{"version":3,"sources":["/Users/rduffy/Code/NCIRL/Advanced Client Side Development/react-vis/src/components/BarVis.js"],"names":["useState","useEffect","axios","Highcharts","BarChart","BarVis","earnings","setEarnings","sales","setSales","salesYear","setSalesYear","config","chart","type","title","text","subtitle","xAxis","categories","crosshair","yAxis","min","tooltip","headerFormat","pointFormat","footerFormat","shared","useHTML","plotOptions","column","pointPadding","borderWidth","series","dateSet","data","get","formattedSales","map","name","country","formattedSalesYear","years","console","log","length","i"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Highcharts from 'highcharts/highcharts';\nimport BarChart from 'highcharts-react-official';\n\nfunction BarVis() {\n    const [earnings, setEarnings] = useState([]);\n    const [sales,setSales] = useState([]);\n    const [salesYear,setSalesYear] = useState([]);\n    const config = {\n        chart: {\n            type: 'column'\n        },\n        title: {\n            text: 'Monthly Average Rainfall'\n        },\n        subtitle: {\n            text: 'Source: WorldClimate.com'\n        },\n        xAxis: {\n            categories: salesYear[0],\n            crosshair: true\n        },\n        yAxis: {\n            min: 0,\n            title: {\n                text: '€'\n            }\n        },\n        tooltip: {\n            headerFormat: '<span style=\"font-size:10px\">{point.key}</span><table>',\n            pointFormat: '<tr><td style=\"color:{series.color};padding:0\">{series.name}: </td>' +\n                '<td style=\"padding:0\"><b>{point.y:.1f} mm</b></td></tr>',\n            footerFormat: '</table>',\n            shared: true,\n            useHTML: true\n        },\n        plotOptions: {\n            column: {\n                pointPadding: 0.2,\n                borderWidth: 0\n            }\n        },\n        series: sales\n    }\n\n    useEffect(async function() {\n        var dateSet = false\n        var data = await axios.get(\"http://localhost:8080/sales\")\n        var formattedSales = data.data.map(function(earnings) {\n            return {\n                name: earnings.country,\n                data: earnings.data\n            }\n        })\n        var formattedSalesYear = data.data.map(function(earnings) {\n            return earnings.years\n        }, [])\n        console.log(formattedSalesYear)\n        setSales(formattedSales)\n        console.log(formattedSalesYear.length)\n        for (let i=1; i<formattedSalesYear.length; i++) {\n            if (formattedSalesYear[i] === formattedSalesYear[i-1]) {\n                dateSet = true\n            } else {\n                dateSet = false\n                formattedSalesYear = [\"error\", \"error\", \"error\", \"error\", \"error\", \"error\"]\n                break\n            }\n            console.log(\"dateSet: \"+dateSet)\n        }\n        if (dateSet) {\n            setSalesYear(formattedSalesYear)\n        }\n        console.log(salesYear)\n    }, [])\n\n    return (\n        <div>\n            <BarChart highcharts={Highcharts} options={config}/>\n        </div>\n    )\n}\n\nexport default BarVis;"]},"metadata":{},"sourceType":"module"}