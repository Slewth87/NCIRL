{"ast":null,"code":"import _asyncToGenerator from\"/Users/rduffy/Code/NCIRL/Advanced Client Side Development/CA/irish-figures/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/rduffy/Code/NCIRL/Advanced Client Side Development/CA/irish-figures/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/rduffy/Code/NCIRL/Advanced Client Side Development/CA/irish-figures/node_modules/@babel/runtime/regenerator/index.js\";import{useState,useEffect}from\"react\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Books(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),bookTitle=_useState2[0],setBookTitle=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),year=_useState4[0],setYear=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),url=_useState6[0],setURL=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),bookInfo=_useState8[0],setBookInfo=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),used=_useState10[0],setUsed=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),err=_useState12[0],setErr=_useState12[1];useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios('https://www.googleapis.com/books/v1/volumes',{params:{q:props.query,key:'AIzaSyD9AyhB8F--bj5fLXUp5fMnGxDy0VXLAt0'}});case 3:data=_context.sent;setBookInfo(data.data.items);setUsed(true);console.log(data.data.items);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);setErr(\"No Books Available\");case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);})),[]);if(used){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Related Reading:\"}),bookInfo.map(function(i,index){if(!i.volumeInfo.imageLinks||!i.volumeInfo.infoLink||!i.volumeInfo.authors||!i.volumeInfo.publishedDate||!i.volumeInfo.description){console.log(\"Book excluded for missing data\");}else{return/*#__PURE__*/_jsxs(\"a\",{className:\"row mb-1 rounded bg-light text-dark align-items-center book-box\",href:i.volumeInfo.infoLink,children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-2\",children:/*#__PURE__*/_jsx(\"img\",{className:\"border border-5 border-light\",src:i.volumeInfo.imageLinks.smallThumbnail})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-xl-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"h4\",{children:[i.volumeInfo.title,\" by \",i.volumeInfo.authors[0]]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row text-muted\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Published: (\",i.volumeInfo.publishedDate,\")\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"p\",{children:i.volumeInfo.description})})]})]},index);}})]});}else{return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:err})});}}export default Books;","map":{"version":3,"sources":["/Users/rduffy/Code/NCIRL/Advanced Client Side Development/CA/irish-figures/src/components/books.js"],"names":["useState","useEffect","axios","Books","props","bookTitle","setBookTitle","year","setYear","url","setURL","bookInfo","setBookInfo","used","setUsed","err","setErr","params","q","query","key","data","items","console","log","map","i","index","volumeInfo","imageLinks","infoLink","authors","publishedDate","description","smallThumbnail","title"],"mappings":"meAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,QAASC,CAAAA,KAAT,CAAeC,KAAf,CAAsB,CAClB,cAAkCJ,QAAQ,CAAC,EAAD,CAA1C,wCAAOK,SAAP,eAAkBC,YAAlB,eACA,eAAwBN,QAAQ,CAAC,CAAD,CAAhC,yCAAOO,IAAP,eAAaC,OAAb,eACA,eAAsBR,QAAQ,CAAC,EAAD,CAA9B,yCAAOS,GAAP,eAAYC,MAAZ,eACA,eAAgCV,QAAQ,CAAC,EAAD,CAAxC,yCAAOW,QAAP,eAAiBC,WAAjB,eACA,eAAwBZ,QAAQ,CAAC,KAAD,CAAhC,0CAAOa,IAAP,gBAAaC,OAAb,gBACA,gBAAsBd,QAAQ,CAAC,EAAD,CAA9B,2CAAOe,GAAP,gBAAYC,MAAZ,gBAEAf,SAAS,sEAAC,kLAEeC,CAAAA,KAAK,CAAC,6CAAD,CAAgD,CAACe,MAAM,CAAE,CAACC,CAAC,CAAEd,KAAK,CAACe,KAAV,CAAiBC,GAAG,CAAE,yCAAtB,CAAT,CAAhD,CAFpB,QAEEC,IAFF,eAGFT,WAAW,CAACS,IAAI,CAACA,IAAL,CAAUC,KAAX,CAAX,CACAR,OAAO,CAAC,IAAD,CAAP,CACAS,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACA,IAAL,CAAUC,KAAtB,EALE,+EAOFN,MAAM,CAAC,oBAAD,CAAN,CAPE,oEAAD,GASN,EATM,CAAT,CAWA,GAAIH,IAAJ,CAAU,CACN,mBACI,oCACI,wCADJ,CAGYF,QAAQ,CAACc,GAAT,CAAa,SAASC,CAAT,CAAYC,KAAZ,CAAmB,CAC5B,GAAI,CAACD,CAAC,CAACE,UAAF,CAAaC,UAAd,EAA4B,CAACH,CAAC,CAACE,UAAF,CAAaE,QAA1C,EAAsD,CAACJ,CAAC,CAACE,UAAF,CAAaG,OAApE,EAA+E,CAACL,CAAC,CAACE,UAAF,CAAaI,aAA7F,EAA8G,CAACN,CAAC,CAACE,UAAF,CAAaK,WAAhI,CAA6I,CACzIV,OAAO,CAACC,GAAR,CAAY,gCAAZ,EACH,CAFD,IAEO,CACH,mBACI,WAAG,SAAS,CAAC,iEAAb,CAA+E,IAAI,CAAEE,CAAC,CAACE,UAAF,CAAaE,QAAlG,wBACI,YAAK,SAAS,CAAC,UAAf,uBACI,YAAK,SAAS,CAAC,8BAAf,CAA8C,GAAG,CAAEJ,CAAC,CAACE,UAAF,CAAaC,UAAb,CAAwBK,cAA3E,EADJ,EADJ,cAII,aAAK,SAAS,CAAC,UAAf,wBACI,YAAK,SAAS,CAAC,KAAf,uBACI,sBAAKR,CAAC,CAACE,UAAF,CAAaO,KAAlB,QAA6BT,CAAC,CAACE,UAAF,CAAaG,OAAb,CAAqB,CAArB,CAA7B,GADJ,EADJ,cAII,YAAK,SAAS,CAAC,gBAAf,uBACI,oCAAgBL,CAAC,CAACE,UAAF,CAAaI,aAA7B,OADJ,EAJJ,cAOI,YAAK,SAAS,CAAC,KAAf,uBACI,mBAAIN,CAAC,CAACE,UAAF,CAAaK,WAAjB,EADJ,EAPJ,GAJJ,GAAiHN,KAAjH,CADJ,CAkBH,CACJ,CAvBD,CAHZ,GADJ,CA+BH,CAhCD,IAgCO,CACH,mBACI,kCAAK,oBAAKZ,GAAL,EAAL,EADJ,CAGH,CACJ,CAED,cAAeZ,CAAAA,KAAf","sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from 'axios';\n\nfunction Books(props) {\n    const [bookTitle, setBookTitle] = useState('');\n    const [year, setYear] = useState(0);\n    const [url, setURL] = useState('');\n    const [bookInfo, setBookInfo] = useState([]);\n    const [used, setUsed] = useState(false);\n    const [err, setErr] = useState('')\n\n    useEffect(async function() {\n        try {\n            var data = await axios('https://www.googleapis.com/books/v1/volumes', {params: {q: props.query, key: 'AIzaSyD9AyhB8F--bj5fLXUp5fMnGxDy0VXLAt0'}});\n            setBookInfo(data.data.items);\n            setUsed(true);\n            console.log(data.data.items)\n        } catch(e) {\n            setErr(\"No Books Available\")\n        }\n    }, [])\n\n    if (used) {\n        return (\n            <div>\n                <h3>Related Reading:</h3>\n                    {\n                        bookInfo.map(function(i, index) {\n                            if (!i.volumeInfo.imageLinks || !i.volumeInfo.infoLink || !i.volumeInfo.authors || !i.volumeInfo.publishedDate || !i.volumeInfo.description) {\n                                console.log(\"Book excluded for missing data\")\n                            } else {\n                                return (\n                                    <a className=\"row mb-1 rounded bg-light text-dark align-items-center book-box\" href={i.volumeInfo.infoLink} key={index}>\n                                        <div className=\"col-xl-2\">\n                                            <img className=\"border border-5 border-light\" src={i.volumeInfo.imageLinks.smallThumbnail}/>\n                                        </div>\n                                        <div className=\"col-xl-8\">\n                                            <div className=\"row\">\n                                                <h4>{i.volumeInfo.title} by {i.volumeInfo.authors[0]}</h4>\n                                            </div>\n                                            <div className=\"row text-muted\">\n                                                <p>Published: ({i.volumeInfo.publishedDate})</p>\n                                            </div>\n                                            <div className=\"row\">\n                                                <p>{i.volumeInfo.description}</p>\n                                            </div>\n                                        </div>\n                                    </a>\n                                )\n                            }\n                        })\n                    }\n            </div>\n        )\n    } else {\n        return (\n            <div><h2>{err}</h2></div>\n        )\n    }\n}\n\nexport default Books;"]},"metadata":{},"sourceType":"module"}